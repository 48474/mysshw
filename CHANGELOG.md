# 变更文档 (V25.06.06 - v25.08.24)

## 主要变更

### 1. 命令行框架迁移
- 从 `github.com/urfave/cli/v2` 迁移到 `github.com/spf13/cobra`，提升命令行交互体验和扩展性
- 重构了整个命令行结构，使其更加清晰和易于维护

### 2. 命令结构优化
- 新增 `sync` 子命令，支持配置文件的上传和下载
- 新增 `version` 子命令，用于查看版本信息
- 为所有命令添加了更详细的帮助信息和使用示例
- 优化了全局选项和子命令选项的处理方式

### 3. 配置文件处理改进
- 添加了上下文（context）机制，避免循环依赖问题
- 优化了配置文件路径的处理，支持通过命令行参数覆盖默认路径
- 改进了配置文件加载逻辑，提高了灵活性

### 4. 文档更新
- 大幅更新了中英文README文件，添加了详细的使用示例
- 补充了命令行选项说明和配置文件格式说明
- 更新了依赖包列表

## 详细变更

### 代码结构变更
- `cmd/cobra_cmd.go`：重构了cobra命令结构，添加了上下文处理
- `main.go`：简化了主函数，将命令执行逻辑迁移到`cmd`包
- `readme.md` 和 `readme.zh.md`：更新了文档内容

### 功能增强
- 配置同步功能：支持将配置文件上传到远程服务器或从远程服务器下载
- 版本信息输出：添加了更详细的版本信息展示
- 命令行帮助：提供了更详细的命令使用说明和示例

### 修复的问题
- 解决了配置文件路径处理中的潜在问题
- 避免了包之间的循环依赖
- 优化了错误处理逻辑

## 提交历史
```
c2606ea (HEAD -> main, tag: v25.08.24, origin/main, origin/HEAD) Merge pull request #4 from cnphpbb/gh-dev
767c7ba (origin/gh-dev, gh-dev) refactor(cmd): 重构 cobra 命令结构并优化上下文处理
790a5ca Merge pull request #3 from cnphpbb/feature/cobra
1458987 refactor(cli): 将命令行框架从 cli 迁移到 cobra
```